
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Storage Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-api/theme-api.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="storage.html" />
    
    
    <link rel="prev" href="images.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">A hacky dev-ish guide to getting started with Docker</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../intro/">
            
                <a href="../intro/">
            
                    
                    What is Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../intro/terminology.html">
            
                <a href="../intro/terminology.html">
            
                    
                    Software and Terminology
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../intro/terminology.html">
            
                <a href="../intro/terminology.html#software-you-need">
            
                    
                    Software you need
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../intro/terminology.html">
            
                <a href="../intro/terminology.html#jargon-you-need-to-know">
            
                    
                    Jargon you need to know
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="images.html">
            
                <a href="images.html">
            
                    
                    Images in more detail
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="images.html">
            
                <a href="images.html#base-images">
            
                    
                    Base Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="images.html">
            
                <a href="images.html#dockerfiles">
            
                    
                    Dockerfiles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="images.html">
            
                <a href="images.html#docker-entrypoint.sh">
            
                    
                    Docker-EntryPoint
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.5" data-path="storage.html">
            
                <a href="storage.html">
            
                    
                    Storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="storage.html">
            
                <a href="storage.html#volumes">
            
                    
                    Volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="storage.html">
            
                <a href="storage.html#bind-mounts">
            
                    
                    Bind Mounts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="networking.html">
            
                <a href="networking.html">
            
                    
                    Networking in Containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="networking.html">
            
                <a href="networking.html#bridge-networks">
            
                    
                    Bridge Networks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="networking.md#bridge-networks">
            
                <span>
            
                    
                    Host Networks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="networking.md#bridge-networks">
            
                <span>
            
                    
                    Exposing Ports
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../deployment/deployingwithdocker.html">
            
                <a href="../deployment/deployingwithdocker.html">
            
                    
                    Deploying with Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../deployment/deployingwithdocker.html">
            
                <a href="../deployment/deployingwithdocker.html#single-containers">
            
                    
                    Single Containers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../deployment/deployingwithdocker.html">
            
                <a href="../deployment/deployingwithdocker.html#multiple-linked-containers">
            
                    
                    Multiple containers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../deployment/deployingwithdocker.html">
            
                <a href="../deployment/deployingwithdocker.html#making-changes-stopping-and-starting">
            
                    
                    Stopping, starting, and making changes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../deployment/usefulcommands.html">
            
                <a href="../deployment/usefulcommands.html">
            
                    
                    Useful Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../astunhackspecifics/hackstuff.html">
            
                <a href="../astunhackspecifics/hackstuff.html">
            
                    
                    Astun Hack Specifics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../astunhackspecifics/hackstuff.html">
            
                <a href="../astunhackspecifics/hackstuff.html#connecting-to-your-server">
            
                    
                    Connecting to your server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../astunhackspecifics/hackstuff.html">
            
                <a href="../astunhackspecifics/hackstuff.html#getting-a-bitbucket-app-password">
            
                    
                    Getting a BitBucket App Password
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../astunhackspecifics/hackstuff.html">
            
                <a href="../astunhackspecifics/hackstuff.html#setting-up-git">
            
                    
                    Setting up Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../astunhackspecifics/hackstuff.md#setting-up-git">
            
                <span>
            
                    
                    Making changes during the hack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../astunhackspecifics/geonode.html">
            
                <a href="../astunhackspecifics/geonode.html">
            
                    
                    Geonode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../astunhackspecifics/geonode.html">
            
                <a href="../astunhackspecifics/geonode.html#default-settings-and-credentials">
            
                    
                    Default settings and credentials
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Storage</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="storage-in-containers">Storage in Containers</h1>
<p>When containers run, all data created by the container is stored on a writable layer inside it. This means that unless configured otherwise, the data doesn&apos;t persist when a container stops, and it&apos;s hard to get that data out and use it elsewhere.</p>
<p>To get around this, there are two main ways of storing data on the host machine, so that it persists when a container is stopped. </p>
<h3 id="volumes">Volumes</h3>
<p>These are stored on the host filesystem but managed by docker. They are used for persistent data that is only used by the container itself, are mounted in <code>/var/lib/docker/volumes</code> on the host (if linux) and are not really supposed to be modified by the host system in any way. An example of this would be the PGDATA directory for a PostgreSQL container. </p>
<p>Volumes are defined with names and target locations (where they are mounted in the container) when deploying the container.</p>
<h3 id="bind-mounts">Bind Mounts</h3>
<p>These are stored on the host filesystem but managed by the host. They are primarily used for transferring data (could be files or folders) into the container. An example of this might be customised configuration data for a container running the webserver nginx.</p>
<p>Bind Mounts need to be defined with names, source (where files and folders are on the host) and target locations. If the bind mount location does not exist on the <strong>host</strong> then it will be created when the container is deployed.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Storage","level":"1.5","depth":1,"next":{"title":"Volumes","level":"1.5.1","depth":2,"anchor":"#volumes","path":"images/storage.md","ref":"./images/storage.md#volumes","articles":[]},"previous":{"title":"Docker-EntryPoint","level":"1.4.3","depth":2,"anchor":"#docker-entrypoint.sh","path":"images/images.md","ref":"./images/images.md#docker-entrypoint.sh","articles":[]},"dir":"ltr"},"config":{"plugins":["hints","theme-api"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-api":{"languages":[],"split":true,"theme":"dark"},"hints":{"danger":"fa fa-exclamation","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"all":false,"twitter":false,"facebook":false}},"gitbook":"*"},"file":{"path":"images/storage.md","mtime":"2020-12-21T13:21:23.162Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-21T13:22:05.914Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-api/theme-api.js"></script>
        
    

    </body>
</html>

